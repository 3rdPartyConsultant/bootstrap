{"version":3,"file":"tooltip.js","sources":["../src/tooltip.js"],"sourcesContent":["/**\n * --------------------------------------------------------------------------\n * Bootstrap (v5.1.3): tooltip.js\n * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)\n * --------------------------------------------------------------------------\n */\n\nimport * as Popper from '@popperjs/core'\nimport {\n  defineJQueryPlugin,\n  findShadowRoot,\n  getElement,\n  getUID,\n  isElement,\n  isRTL,\n  noop,\n  typeCheckConfig\n} from './util/index'\nimport { DefaultAllowlist, sanitizeHtml } from './util/sanitizer'\nimport Data from './dom/data'\nimport EventHandler from './dom/event-handler'\nimport Manipulator from './dom/manipulator'\nimport SelectorEngine from './dom/selector-engine'\nimport BaseComponent from './base-component'\n\n/**\n * Constants\n */\n\nconst NAME = 'tooltip'\nconst DATA_KEY = 'bs.tooltip'\nconst EVENT_KEY = `.${DATA_KEY}`\nconst CLASS_PREFIX = 'bs-tooltip'\nconst DISALLOWED_ATTRIBUTES = new Set(['sanitize', 'allowList', 'sanitizeFn'])\n\nconst CLASS_NAME_FADE = 'fade'\nconst CLASS_NAME_MODAL = 'modal'\nconst CLASS_NAME_SHOW = 'show'\n\nconst HOVER_STATE_SHOW = 'show'\nconst HOVER_STATE_OUT = 'out'\n\nconst SELECTOR_TOOLTIP_INNER = '.tooltip-inner'\nconst SELECTOR_MODAL = `.${CLASS_NAME_MODAL}`\n\nconst EVENT_MODAL_HIDE = 'hide.bs.modal'\n\nconst TRIGGER_HOVER = 'hover'\nconst TRIGGER_FOCUS = 'focus'\nconst TRIGGER_CLICK = 'click'\nconst TRIGGER_MANUAL = 'manual'\n\nconst AttachmentMap = {\n  AUTO: 'auto',\n  TOP: 'top',\n  RIGHT: isRTL() ? 'left' : 'right',\n  BOTTOM: 'bottom',\n  LEFT: isRTL() ? 'right' : 'left'\n}\n\nconst Default = {\n  animation: true,\n  template: '<div class=\"tooltip\" role=\"tooltip\">' +\n              '<div class=\"tooltip-arrow\"></div>' +\n              '<div class=\"tooltip-inner\"></div>' +\n            '</div>',\n  trigger: 'hover focus',\n  title: '',\n  delay: 0,\n  html: false,\n  selector: false,\n  placement: 'top',\n  offset: [0, 0],\n  container: false,\n  fallbackPlacements: ['top', 'right', 'bottom', 'left'],\n  boundary: 'clippingParents',\n  customClass: '',\n  sanitize: true,\n  sanitizeFn: null,\n  allowList: DefaultAllowlist,\n  popperConfig: null\n}\n\nconst DefaultType = {\n  animation: 'boolean',\n  template: 'string',\n  title: '(string|element|function)',\n  trigger: 'string',\n  delay: '(number|object)',\n  html: 'boolean',\n  selector: '(string|boolean)',\n  placement: '(string|function)',\n  offset: '(array|string|function)',\n  container: '(string|element|boolean)',\n  fallbackPlacements: 'array',\n  boundary: '(string|element)',\n  customClass: '(string|function)',\n  sanitize: 'boolean',\n  sanitizeFn: '(null|function)',\n  allowList: 'object',\n  popperConfig: '(null|object|function)'\n}\n\nconst Event = {\n  HIDE: `hide${EVENT_KEY}`,\n  HIDDEN: `hidden${EVENT_KEY}`,\n  SHOW: `show${EVENT_KEY}`,\n  SHOWN: `shown${EVENT_KEY}`,\n  INSERTED: `inserted${EVENT_KEY}`,\n  CLICK: `click${EVENT_KEY}`,\n  FOCUSIN: `focusin${EVENT_KEY}`,\n  FOCUSOUT: `focusout${EVENT_KEY}`,\n  MOUSEENTER: `mouseenter${EVENT_KEY}`,\n  MOUSELEAVE: `mouseleave${EVENT_KEY}`\n}\n\n/**\n * Class definition\n */\n\nclass Tooltip extends BaseComponent {\n  constructor(element, config) {\n    if (typeof Popper === 'undefined') {\n      throw new TypeError('Bootstrap\\'s tooltips require Popper (https://popper.js.org)')\n    }\n\n    super(element)\n\n    // Private\n    this._isEnabled = true\n    this._timeout = 0\n    this._hoverState = ''\n    this._activeTrigger = {}\n    this._popper = null\n\n    // Protected\n    this._config = this._getConfig(config)\n    this.tip = null\n\n    this._setListeners()\n  }\n\n  // Getters\n  static get Default() {\n    return Default\n  }\n\n  static get NAME() {\n    return NAME\n  }\n\n  static get Event() {\n    return Event\n  }\n\n  static get DefaultType() {\n    return DefaultType\n  }\n\n  // Public\n  enable() {\n    this._isEnabled = true\n  }\n\n  disable() {\n    this._isEnabled = false\n  }\n\n  toggleEnabled() {\n    this._isEnabled = !this._isEnabled\n  }\n\n  toggle(event) {\n    if (!this._isEnabled) {\n      return\n    }\n\n    if (event) {\n      const context = this._initializeOnDelegatedTarget(event)\n\n      context._activeTrigger.click = !context._activeTrigger.click\n\n      if (context._isWithActiveTrigger()) {\n        context._enter(null, context)\n      } else {\n        context._leave(null, context)\n      }\n    } else {\n      if (this.getTipElement().classList.contains(CLASS_NAME_SHOW)) {\n        this._leave(null, this)\n        return\n      }\n\n      this._enter(null, this)\n    }\n  }\n\n  dispose() {\n    clearTimeout(this._timeout)\n\n    EventHandler.off(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler)\n\n    if (this.tip) {\n      this.tip.remove()\n    }\n\n    this._disposePopper()\n    super.dispose()\n  }\n\n  show() {\n    if (this._element.style.display === 'none') {\n      throw new Error('Please use show on visible elements')\n    }\n\n    if (!(this.isWithContent() && this._isEnabled)) {\n      return\n    }\n\n    const showEvent = EventHandler.trigger(this._element, this.constructor.Event.SHOW)\n    const shadowRoot = findShadowRoot(this._element)\n    const isInTheDom = shadowRoot === null ?\n      this._element.ownerDocument.documentElement.contains(this._element) :\n      shadowRoot.contains(this._element)\n\n    if (showEvent.defaultPrevented || !isInTheDom) {\n      return\n    }\n\n    // A trick to recreate a tooltip in case a new title is given by using the NOT documented `data-bs-original-title`\n    // This will be removed later in favor of a `setContent` method\n    if (this.constructor.NAME === 'tooltip' && this.tip && this.getTitle() !== this.tip.querySelector(SELECTOR_TOOLTIP_INNER).innerHTML) {\n      this._disposePopper()\n      this.tip.remove()\n      this.tip = null\n    }\n\n    const tip = this.getTipElement()\n    const tipId = getUID(this.constructor.NAME)\n\n    tip.setAttribute('id', tipId)\n    this._element.setAttribute('aria-describedby', tipId)\n\n    if (this._config.animation) {\n      tip.classList.add(CLASS_NAME_FADE)\n    }\n\n    const placement = typeof this._config.placement === 'function' ?\n      this._config.placement.call(this, tip, this._element) :\n      this._config.placement\n\n    const attachment = this._getAttachment(placement)\n    this._addAttachmentClass(attachment)\n\n    const { container } = this._config\n    Data.set(tip, this.constructor.DATA_KEY, this)\n\n    if (!this._element.ownerDocument.documentElement.contains(this.tip)) {\n      container.append(tip)\n      EventHandler.trigger(this._element, this.constructor.Event.INSERTED)\n    }\n\n    if (this._popper) {\n      this._popper.update()\n    } else {\n      this._popper = Popper.createPopper(this._element, tip, this._getPopperConfig(attachment))\n    }\n\n    tip.classList.add(CLASS_NAME_SHOW)\n\n    const customClass = this._resolvePossibleFunction(this._config.customClass)\n    if (customClass) {\n      tip.classList.add(...customClass.split(' '))\n    }\n\n    // If this is a touch-enabled device we add extra\n    // empty mouseover listeners to the body's immediate children;\n    // only needed because of broken event delegation on iOS\n    // https://www.quirksmode.org/blog/archives/2014/02/mouse_event_bub.html\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.on(element, 'mouseover', noop)\n      }\n    }\n\n    const complete = () => {\n      const prevHoverState = this._hoverState\n\n      this._hoverState = null\n      EventHandler.trigger(this._element, this.constructor.Event.SHOWN)\n\n      if (prevHoverState === HOVER_STATE_OUT) {\n        this._leave(null, this)\n      }\n    }\n\n    const isAnimated = this.tip.classList.contains(CLASS_NAME_FADE)\n    this._queueCallback(complete, this.tip, isAnimated)\n  }\n\n  hide() {\n    if (!this._popper) {\n      return\n    }\n\n    const tip = this.getTipElement()\n    const complete = () => {\n      if (this._isWithActiveTrigger()) {\n        return\n      }\n\n      if (this._hoverState !== HOVER_STATE_SHOW) {\n        tip.remove()\n      }\n\n      this._cleanTipClass()\n      this._element.removeAttribute('aria-describedby')\n      EventHandler.trigger(this._element, this.constructor.Event.HIDDEN)\n\n      this._disposePopper()\n    }\n\n    const hideEvent = EventHandler.trigger(this._element, this.constructor.Event.HIDE)\n    if (hideEvent.defaultPrevented) {\n      return\n    }\n\n    tip.classList.remove(CLASS_NAME_SHOW)\n\n    // If this is a touch-enabled device we remove the extra\n    // empty mouseover listeners we added for iOS support\n    if ('ontouchstart' in document.documentElement) {\n      for (const element of [].concat(...document.body.children)) {\n        EventHandler.off(element, 'mouseover', noop)\n      }\n    }\n\n    this._activeTrigger[TRIGGER_CLICK] = false\n    this._activeTrigger[TRIGGER_FOCUS] = false\n    this._activeTrigger[TRIGGER_HOVER] = false\n\n    const isAnimated = this.tip.classList.contains(CLASS_NAME_FADE)\n    this._queueCallback(complete, this.tip, isAnimated)\n    this._hoverState = ''\n  }\n\n  update() {\n    if (this._popper !== null) {\n      this._popper.update()\n    }\n  }\n\n  // Protected\n  isWithContent() {\n    return Boolean(this.getTitle())\n  }\n\n  getTipElement() {\n    if (this.tip) {\n      return this.tip\n    }\n\n    const element = document.createElement('div')\n    element.innerHTML = this._config.template\n\n    const tip = element.children[0]\n    this.setContent(tip)\n    tip.classList.remove(CLASS_NAME_FADE, CLASS_NAME_SHOW)\n\n    this.tip = tip\n    return this.tip\n  }\n\n  setContent(tip) {\n    this._sanitizeAndSetContent(tip, this.getTitle(), SELECTOR_TOOLTIP_INNER)\n  }\n\n  _sanitizeAndSetContent(template, content, selector) {\n    const templateElement = SelectorEngine.findOne(selector, template)\n\n    if (!content && templateElement) {\n      templateElement.remove()\n      return\n    }\n\n    // we use append for html objects to maintain js events\n    this.setElementContent(templateElement, content)\n  }\n\n  setElementContent(element, content) {\n    if (element === null) {\n      return\n    }\n\n    if (isElement(content)) {\n      content = getElement(content)\n\n      // content is a DOM node or a jQuery\n      if (this._config.html) {\n        if (content.parentNode !== element) {\n          element.innerHTML = ''\n          element.append(content)\n        }\n      } else {\n        element.textContent = content.textContent\n      }\n\n      return\n    }\n\n    if (this._config.html) {\n      if (this._config.sanitize) {\n        content = sanitizeHtml(content, this._config.allowList, this._config.sanitizeFn)\n      }\n\n      element.innerHTML = content // lgtm [js/xss-through-dom]\n    } else {\n      element.textContent = content\n    }\n  }\n\n  getTitle() {\n    const title = this._element.getAttribute('data-bs-original-title') || this._config.title\n\n    return this._resolvePossibleFunction(title)\n  }\n\n  updateAttachment(attachment) {\n    if (attachment === 'right') {\n      return 'end'\n    }\n\n    if (attachment === 'left') {\n      return 'start'\n    }\n\n    return attachment\n  }\n\n  // Private\n  _initializeOnDelegatedTarget(event, context) {\n    return context || this.constructor.getOrCreateInstance(event.delegateTarget, this._getDelegateConfig())\n  }\n\n  _getOffset() {\n    const { offset } = this._config\n\n    if (typeof offset === 'string') {\n      return offset.split(',').map(val => Number.parseInt(val, 10))\n    }\n\n    if (typeof offset === 'function') {\n      return popperData => offset(popperData, this._element)\n    }\n\n    return offset\n  }\n\n  _resolvePossibleFunction(content) {\n    return typeof content === 'function' ? content.call(this._element) : content\n  }\n\n  _getPopperConfig(attachment) {\n    const defaultBsPopperConfig = {\n      placement: attachment,\n      modifiers: [\n        {\n          name: 'flip',\n          options: {\n            fallbackPlacements: this._config.fallbackPlacements\n          }\n        },\n        {\n          name: 'offset',\n          options: {\n            offset: this._getOffset()\n          }\n        },\n        {\n          name: 'preventOverflow',\n          options: {\n            boundary: this._config.boundary\n          }\n        },\n        {\n          name: 'arrow',\n          options: {\n            element: `.${this.constructor.NAME}-arrow`\n          }\n        },\n        {\n          name: 'onChange',\n          enabled: true,\n          phase: 'afterWrite',\n          fn: data => this._handlePopperPlacementChange(data)\n        }\n      ],\n      onFirstUpdate: data => {\n        if (data.options.placement !== data.placement) {\n          this._handlePopperPlacementChange(data)\n        }\n      }\n    }\n\n    return {\n      ...defaultBsPopperConfig,\n      ...(typeof this._config.popperConfig === 'function' ? this._config.popperConfig(defaultBsPopperConfig) : this._config.popperConfig)\n    }\n  }\n\n  _addAttachmentClass(attachment) {\n    this.getTipElement().classList.add(`${this._getBasicClassPrefix()}-${this.updateAttachment(attachment)}`)\n  }\n\n  _getAttachment(placement) {\n    return AttachmentMap[placement.toUpperCase()]\n  }\n\n  _setListeners() {\n    const triggers = this._config.trigger.split(' ')\n\n    for (const trigger of triggers) {\n      if (trigger === 'click') {\n        EventHandler.on(this._element, this.constructor.Event.CLICK, this._config.selector, event => this.toggle(event))\n      } else if (trigger !== TRIGGER_MANUAL) {\n        const eventIn = trigger === TRIGGER_HOVER ?\n          this.constructor.Event.MOUSEENTER :\n          this.constructor.Event.FOCUSIN\n        const eventOut = trigger === TRIGGER_HOVER ?\n          this.constructor.Event.MOUSELEAVE :\n          this.constructor.Event.FOCUSOUT\n\n        EventHandler.on(this._element, eventIn, this._config.selector, event => this._enter(event))\n        EventHandler.on(this._element, eventOut, this._config.selector, event => this._leave(event))\n      }\n    }\n\n    this._hideModalHandler = () => {\n      if (this._element) {\n        this.hide()\n      }\n    }\n\n    EventHandler.on(this._element.closest(SELECTOR_MODAL), EVENT_MODAL_HIDE, this._hideModalHandler)\n\n    if (this._config.selector) {\n      this._config = {\n        ...this._config,\n        trigger: 'manual',\n        selector: ''\n      }\n    } else {\n      this._fixTitle()\n    }\n  }\n\n  _fixTitle() {\n    const title = this._element.getAttribute('title')\n    const originalTitleType = typeof this._element.getAttribute('data-bs-original-title')\n\n    if (title || originalTitleType !== 'string') {\n      this._element.setAttribute('data-bs-original-title', title || '')\n      if (title && !this._element.getAttribute('aria-label') && !this._element.textContent) {\n        this._element.setAttribute('aria-label', title)\n      }\n\n      this._element.setAttribute('title', '')\n    }\n  }\n\n  _enter(event, context) {\n    context = this._initializeOnDelegatedTarget(event, context)\n\n    if (event) {\n      context._activeTrigger[\n        event.type === 'focusin' ? TRIGGER_FOCUS : TRIGGER_HOVER\n      ] = true\n    }\n\n    if (context.getTipElement().classList.contains(CLASS_NAME_SHOW) || context._hoverState === HOVER_STATE_SHOW) {\n      context._hoverState = HOVER_STATE_SHOW\n      return\n    }\n\n    clearTimeout(context._timeout)\n\n    context._hoverState = HOVER_STATE_SHOW\n\n    if (!context._config.delay || !context._config.delay.show) {\n      context.show()\n      return\n    }\n\n    context._timeout = setTimeout(() => {\n      if (context._hoverState === HOVER_STATE_SHOW) {\n        context.show()\n      }\n    }, context._config.delay.show)\n  }\n\n  _leave(event, context) {\n    context = this._initializeOnDelegatedTarget(event, context)\n\n    if (event) {\n      context._activeTrigger[\n        event.type === 'focusout' ? TRIGGER_FOCUS : TRIGGER_HOVER\n      ] = context._element.contains(event.relatedTarget)\n    }\n\n    if (context._isWithActiveTrigger()) {\n      return\n    }\n\n    clearTimeout(context._timeout)\n\n    context._hoverState = HOVER_STATE_OUT\n\n    if (!context._config.delay || !context._config.delay.hide) {\n      context.hide()\n      return\n    }\n\n    context._timeout = setTimeout(() => {\n      if (context._hoverState === HOVER_STATE_OUT) {\n        context.hide()\n      }\n    }, context._config.delay.hide)\n  }\n\n  _isWithActiveTrigger() {\n    for (const trigger in this._activeTrigger) {\n      if (this._activeTrigger[trigger]) {\n        return true\n      }\n    }\n\n    return false\n  }\n\n  _getConfig(config) {\n    const dataAttributes = Manipulator.getDataAttributes(this._element)\n\n    for (const dataAttr of Object.keys(dataAttributes)) {\n      if (DISALLOWED_ATTRIBUTES.has(dataAttr)) {\n        delete dataAttributes[dataAttr]\n      }\n    }\n\n    config = {\n      ...this.constructor.Default,\n      ...dataAttributes,\n      ...(typeof config === 'object' && config ? config : {})\n    }\n\n    config.container = config.container === false ? document.body : getElement(config.container)\n\n    if (typeof config.delay === 'number') {\n      config.delay = {\n        show: config.delay,\n        hide: config.delay\n      }\n    }\n\n    if (typeof config.title === 'number') {\n      config.title = config.title.toString()\n    }\n\n    if (typeof config.content === 'number') {\n      config.content = config.content.toString()\n    }\n\n    typeCheckConfig(NAME, config, this.constructor.DefaultType)\n\n    if (config.sanitize) {\n      config.template = sanitizeHtml(config.template, config.allowList, config.sanitizeFn)\n    }\n\n    return config\n  }\n\n  _getDelegateConfig() {\n    const config = {}\n\n    for (const key in this._config) {\n      if (this.constructor.Default[key] !== this._config[key]) {\n        config[key] = this._config[key]\n      }\n    }\n\n    // In the future can be replaced with:\n    // const keysWithDifferentValues = Object.entries(this._config).filter(entry => this.constructor.Default[entry[0]] !== this._config[entry[0]])\n    // `Object.fromEntries(keysWithDifferentValues)`\n    return config\n  }\n\n  _cleanTipClass() {\n    const tip = this.getTipElement()\n    const basicClassPrefixRegex = new RegExp(`(^|\\\\s)${this._getBasicClassPrefix()}\\\\S+`, 'g')\n    const tabClass = tip.getAttribute('class').match(basicClassPrefixRegex)\n    if (tabClass !== null && tabClass.length > 0) {\n      for (const tClass of tabClass.map(token => token.trim())) {\n        tip.classList.remove(tClass)\n      }\n    }\n  }\n\n  _getBasicClassPrefix() {\n    return CLASS_PREFIX\n  }\n\n  _handlePopperPlacementChange(popperData) {\n    const { state } = popperData\n\n    if (!state) {\n      return\n    }\n\n    this.tip = state.elements.popper\n    this._cleanTipClass()\n    this._addAttachmentClass(this._getAttachment(state.placement))\n  }\n\n  _disposePopper() {\n    if (this._popper) {\n      this._popper.destroy()\n      this._popper = null\n    }\n  }\n\n  // Static\n\n  static jQueryInterface(config) {\n    return this.each(function () {\n      const data = Tooltip.getOrCreateInstance(this, config)\n\n      if (typeof config === 'string') {\n        if (typeof data[config] === 'undefined') {\n          throw new TypeError(`No method named \"${config}\"`)\n        }\n\n        data[config]()\n      }\n    })\n  }\n}\n\n/**\n * jQuery\n */\n\ndefineJQueryPlugin(Tooltip)\n\nexport default Tooltip\n"],"names":["NAME","DATA_KEY","EVENT_KEY","CLASS_PREFIX","DISALLOWED_ATTRIBUTES","Set","CLASS_NAME_FADE","CLASS_NAME_MODAL","CLASS_NAME_SHOW","HOVER_STATE_SHOW","HOVER_STATE_OUT","SELECTOR_TOOLTIP_INNER","SELECTOR_MODAL","EVENT_MODAL_HIDE","TRIGGER_HOVER","TRIGGER_FOCUS","TRIGGER_CLICK","TRIGGER_MANUAL","AttachmentMap","AUTO","TOP","RIGHT","isRTL","BOTTOM","LEFT","Default","animation","template","trigger","title","delay","html","selector","placement","offset","container","fallbackPlacements","boundary","customClass","sanitize","sanitizeFn","allowList","DefaultAllowlist","popperConfig","DefaultType","Event","HIDE","HIDDEN","SHOW","SHOWN","INSERTED","CLICK","FOCUSIN","FOCUSOUT","MOUSEENTER","MOUSELEAVE","Tooltip","BaseComponent","constructor","element","config","Popper","TypeError","_isEnabled","_timeout","_hoverState","_activeTrigger","_popper","_config","_getConfig","tip","_setListeners","enable","disable","toggleEnabled","toggle","event","context","_initializeOnDelegatedTarget","click","_isWithActiveTrigger","_enter","_leave","getTipElement","classList","contains","dispose","clearTimeout","EventHandler","off","_element","closest","_hideModalHandler","remove","_disposePopper","show","style","display","Error","isWithContent","showEvent","shadowRoot","findShadowRoot","isInTheDom","ownerDocument","documentElement","defaultPrevented","getTitle","querySelector","innerHTML","tipId","getUID","setAttribute","add","call","attachment","_getAttachment","_addAttachmentClass","Data","set","append","update","createPopper","_getPopperConfig","_resolvePossibleFunction","split","document","concat","body","children","on","noop","complete","prevHoverState","isAnimated","_queueCallback","hide","_cleanTipClass","removeAttribute","hideEvent","Boolean","createElement","setContent","_sanitizeAndSetContent","content","templateElement","SelectorEngine","findOne","setElementContent","isElement","getElement","parentNode","textContent","sanitizeHtml","getAttribute","updateAttachment","getOrCreateInstance","delegateTarget","_getDelegateConfig","_getOffset","map","val","Number","parseInt","popperData","defaultBsPopperConfig","modifiers","name","options","enabled","phase","fn","data","_handlePopperPlacementChange","onFirstUpdate","_getBasicClassPrefix","toUpperCase","triggers","eventIn","eventOut","_fixTitle","originalTitleType","type","setTimeout","relatedTarget","dataAttributes","Manipulator","getDataAttributes","dataAttr","Object","keys","has","toString","typeCheckConfig","key","basicClassPrefixRegex","RegExp","tabClass","match","length","tClass","token","trim","state","elements","popper","destroy","jQueryInterface","each","defineJQueryPlugin"],"mappings":"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"}
